<!DOCTYPE html>
<html>
    <body>
    <head>
        <meta name="viewport" content="with=device-width,initial-scale=1.0">
        <title>Recommend</title>
        <link rel="stylesheet" href="{{ url_for('static', filename='/style.css') }}">
    </head>
    <div class="header">
        <nav>
            <ul>
                <li><a href="{{url_for('home')}}">Home</a></li>
                <li><a href="{{url_for('home')}}">About</a></li>
                <li><a href="{{url_for('recommend_page')}}">Recommend</a></li>
                <li><a href="{{url_for('discover_page')}}">Discover Weekly</a></li>
            </ul>
            </nav>
    </div>
    <form class="search-bar" action="{{url_for('recommend')}}" method="POST">
        <h3>Enter your favourite song </h3>
        <label for="song1"></label>
        <input type="text" id="Song" name="song1" placeholder="eg: Born 2 Live" value="{{request.form.song1}}">
        <button type="submit"><img src="{{ url_for('static', filename='/images/search.png') }}" alt=""></button>
    </form>
    <form class="sliding-values" action="{{url_for('changed')}}" method="POST">
        <h4>Danceability</h4>
        <input type="range" min="0.07" max="0.99" step="0.00001" name="val1" id="val1" value="{{request.form.val1}}" class="slider" id="myRange"><br>
        <h4> Acoustiness </h4>
        <input type="range" min="0" max="0.99" step="0.00001" name="val2" id="val2" value="{{request.form.val2}}" class="slider" id="myRange"><br>
        <h4> Instrumentalness </h4>
        <input type="range" min="0" max="0.99" step="0.00001" name="val3" id="val3" value="{{request.form.val3}}" class="slider" id="myRange"><br>
        <button type="submit">Go</button>
    </form>
    <div class="mt-3">
        <h2></h2>
    {% for i in data %}     
                  <tr>
                      <td>
                    <a onclick="playsong()" ondblclick="pausesong()">
                        <img  class="imgs" src="{{i[0]}}" alt="https://upload.wikimedia.org/wikipedia/commons/1/14/No_Image_Available.jpg">
                         <!-- {{ i[1] }} -->
                    </a>  
                        </td>              
            <script>
                var mysong= new Audio();
                mysong.src="{{i[1]}}";
                const playsong=()=>{
                    mysong.play();
                }
                const pausesong=()=>{
                    mysong.pause();
                }
            </script>
                    </tr>
    {% endfor %} 
    </div>
</body>
</html>
